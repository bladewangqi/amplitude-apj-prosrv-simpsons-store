<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet">
    <title>Branch Simpsons Product Detail</title>
    <script>
        //extract product sku
        var sku = document.URL.match(/sku=([^&]+)/)[1];
        var productData = {};
        if (sku === 'BP063-0001') {
            productData = {
                'sku': 'BP063-0001',
                'name': 'Bart Simpsons Toy',
                'price': 50,
                'image': 'https://upload.wikimedia.org/wikipedia/en/a/aa/Bart_Simpson_200px.png'
            };
        } else if (sku === 'BP063-0002') {
            productData = {
                'sku': 'BP063-0002',
                'name': 'Lisa Simpsons Toy',
                'price': 99.99,
                'image': 'https://upload.wikimedia.org/wikipedia/en/e/ec/Lisa_Simpson.png'
            };
        } else if (sku === 'BP063-0003') {
            productData = {
                'sku': 'BP063-0003',
                'name': 'Homer Simpsons Toy',
                'price': 150,
                'image': 'https://static.onecms.io/wp-content/uploads/sites/6/2010/06/homer-simpson_235.jpg'
            };
        }
        //make sure dataLayer code is above Google Tag Manager initialize
        dataLayer = [{
          'pageCategory': 'product',
          'productSKU': sku
        }];
        window.onload = function() {
            what();
            function what(){
                document.getElementById("product-name").innerHTML = productData['name'];
                document.getElementById("price-value").innerHTML = '$' + productData['price'];
                document.getElementById("thumb-image").src = productData['image'];
                document.getElementById("big-image").src = productData['image'];
            };
        }
      </script>  
      <script>
        // load Google Tag Manager
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-MJPMJZP');
        // load Branch
        (function(b,r,a,n,c,h,_,s,d,k){if(!b[n]||!b[n]._q){for(;s<_.length;)c(h,_[s++]);d=r.createElement(a);d.async=1;d.src="https://cdn.branch.io/branch-latest.min.js";k=r.getElementsByTagName(a)[0];k.parentNode.insertBefore(d,k);b[n]=h}})(window,document,"script","branch",function(b,r){b[r]=function(){b._q.push([r,arguments])}},{_q:[],_v:1},"addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent logEvent disableTracking".split(" "), 0);
        branch.init('key_live_hbSHp4Ukk6L07eE9sRSTYjdkwAcDbpoG');

        function addToCart() {
            var event_and_custom_data = {
            "transaction_id": Math.random().toString(36).substr(2, 9),
            "currency": "USD",
            "shipping": 10.5,
            "description": "Add" + sku + "to cart",
            "purchase_loc": "Palo Alto",
            };
            if(sku === 'BP063-0001') {
                event_and_custom_data["revenue"] = 50*0.15;
                event_and_custom_data["tax"] = 50*0.09;
                var content_items = [
                    {
                    "$og_title": "Bart Simpson Test title",
                    "$og_description": "none",
                    "$canonical_identifier": "item/BP063-0001",
                    "$price": 50,
                    "$quantity": 1,
                    "$sku": "BP063-0001",
                    "$product_name": "Bart Simpsons Toy",
                    "$product_brand": "Brand Bart",
                    "$product_category": "Toys & Games",
                    "$rating_average": 4.2,
                    "$rating_count": 5,
                    "$address_city": "Chicago",
                    "$address_region": "IL",
                    "$address_country": "US",
                    "$address_postal_code": "60604",
                    "$latitude": 12.07,
                    "$longitude": -97.5,
                    "$condition": "NEW",
                    "$custom_fields": {"foo1":"bar1","foo2":"bar2"}
                    }
                ];
            } else if(sku === 'BP063-0002') {
                event_and_custom_data["revenue"] = 99.99*0.15;
                event_and_custom_data["tax"] = 99.99*0.09;
                var content_items = [
                    {
                    "$og_title": "Lisa Simpson Test title",
                    "$og_description": "none",
                    "$canonical_identifier": "item/BP063-0002",
                    "$price": 99.99,
                    "$quantity": 1,
                    "$sku": "BP063-0002",
                    "$product_name": "Lisa Simpsons Toy",
                    "$product_brand": "Brand Lisa",
                    "$product_category": "Toys & Games",
                    "$rating_average": 4.1,
                    "$rating_count": 5,
                    "$address_city": "Chicago",
                    "$address_region": "IL",
                    "$address_country": "US",
                    "$address_postal_code": "60604",
                    "$latitude": 12.07,
                    "$longitude": -97.5,
                    "$condition": "NEW",
                    "$custom_fields": {"foo1":"bar1","foo2":"bar2"}
                    }
                ];
            } else {
                event_and_custom_data["revenue"] = 150*0.15;
                event_and_custom_data["tax"] = 150*0.09;
                var content_items = [
                    {
                    "$og_title": "Homer Simpson Test title",
                    "$og_description": "none",
                    "$canonical_identifier": "item/BP063-0003",
                    "$price": 150,
                    "$quantity": 1,
                    "$sku": "BP063-0003",
                    "$product_name": "Homer Simpsons Toy",
                    "$product_brand": "Brand Homer",
                    "$product_category": "Toys & Games",
                    "$rating_average": 4.3,
                    "$rating_count": 5,
                    "$address_city": "Chicago",
                    "$address_region": "IL",
                    "$address_country": "US",
                    "$address_postal_code": "60604",
                    "$latitude": 12.07,
                    "$longitude": -97.5,
                    "$condition": "NEW",
                    "$custom_fields": {"foo1":"bar1","foo2":"bar2"}
                    }
                ];
            }
            var customer_event_alias = "my custom alias";
            branch.logEvent(
            "ADD_TO_CART",
            event_and_custom_data,
            content_items);
        };

        function buyNow() {
            var event_and_custom_data = {
            "transaction_id": Math.random().toString(36).substr(2, 9),
            "currency": "USD",
            "shipping": 10.5,
            "description": "Purcahse" + sku,
            "purchase_loc": "Palo Alto",
            };
            var customer_event_alias = "puchase kids";
            if(sku === 'BP063-0001') {
                event_and_custom_data["revenue"] = 50*0.15;
                event_and_custom_data["tax"] = 50*0.09;
                dataLayer.push({'productRevenue': 50*0.15});
                var content_items = [
                    {
                    "$og_title": "Bart Simpson Test title",
                    "$og_description": "none",
                    "$canonical_identifier": "item/BP063-0001",
                    "$price": 50,
                    "$quantity": 1,
                    "$sku": "BP063-0001",
                    "$product_name": "Bart Simpsons Toy",
                    "$product_brand": "Brand Bart",
                    "$product_category": "Toys & Games",
                    "$rating_average": 4.2,
                    "$rating_count": 5,
                    "$address_city": "Chicago",
                    "$address_region": "IL",
                    "$address_country": "US",
                    "$address_postal_code": "60604",
                    "$latitude": 12.07,
                    "$longitude": -97.5,
                    "$condition": "NEW",
                    "$custom_fields": {"foo1":"bar1","foo2":"bar2"}
                    }
                ];
            } else if(sku === 'BP063-0002') {
                event_and_custom_data["revenue"] = 99.99*0.15;
                event_and_custom_data["tax"] = 99.99*0.09;
                dataLayer.push({'productRevenue': 99.99*0.15});
                var content_items = [
                    {
                    "$og_title": "Lisa Simpson Test title",
                    "$og_description": "none",
                    "$canonical_identifier": "item/BP063-0002",
                    "$price": 99.99,
                    "$quantity": 1,
                    "$sku": "BP063-0002",
                    "$product_name": "Lisa Simpsons Toy",
                    "$product_brand": "Brand Lisa",
                    "$product_category": "Toys & Games",
                    "$rating_average": 4.1,
                    "$rating_count": 5,
                    "$address_city": "Chicago",
                    "$address_region": "IL",
                    "$address_country": "US",
                    "$address_postal_code": "60604",
                    "$latitude": 12.07,
                    "$longitude": -97.5,
                    "$condition": "NEW",
                    "$custom_fields": {"foo1":"bar1","foo2":"bar2"}
                    }
                ];
            } else {
                customer_event_alias = "puchase daddy";
                event_and_custom_data["revenue"] = 150*0.15;
                event_and_custom_data["tax"] = 150*0.09;
                dataLayer.push({'productRevenue': 150*0.15});
                var content_items = [
                    {
                    "$og_title": "Homer Simpson Test title",
                    "$og_description": "none",
                    "$canonical_identifier": "item/BP063-0003",
                    "$price": 150,
                    "$quantity": 1,
                    "$sku": "BP063-0003",
                    "$product_name": "Homer Simpsons Toy",
                    "$product_brand": "Brand Homer",
                    "$product_category": "Toys & Games",
                    "$rating_average": 4.3,
                    "$rating_count": 5,
                    "$address_city": "Chicago",
                    "$address_region": "IL",
                    "$address_country": "US",
                    "$address_postal_code": "60604",
                    "$latitude": 12.07,
                    "$longitude": -97.5,
                    "$condition": "NEW",
                    "$custom_fields": {"foo1":"bar1","foo2":"bar2"}
                    }
                ];
            }
            branch.logEvent(
            "PURCHASE",
            event_and_custom_data,
            content_items,
            customer_event_alias);
        };
    </script>
    <style>
        /*****************globals*************/
        body {
        font-family: 'open sans';
        overflow-x: hidden; }

        img {
        max-width: 100%; }

        .preview {
        display: -webkit-box;
        display: -webkit-flex;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-orient: vertical;
        -webkit-box-direction: normal;
        -webkit-flex-direction: column;
            -ms-flex-direction: column;
                flex-direction: column; }
        @media screen and (max-width: 996px) {
            .preview {
            margin-bottom: 20px; } }

        .preview-pic {
        -webkit-box-flex: 1;
        -webkit-flex-grow: 1;
            -ms-flex-positive: 1;
                flex-grow: 1; }

        .preview-thumbnail.nav-tabs {
        border: none;
        margin-top: 15px; }
        .preview-thumbnail.nav-tabs li {
            width: 18%;
            margin-right: 2.5%; }
            .preview-thumbnail.nav-tabs li img {
            max-width: 100%;
            display: block; }
            .preview-thumbnail.nav-tabs li a {
            padding: 0;
            margin: 0; }
            .preview-thumbnail.nav-tabs li:last-of-type {
            margin-right: 0; }

        .tab-content {
        overflow: hidden; }
        .tab-content img {
            width: 100%;
            -webkit-animation-name: opacity;
                    animation-name: opacity;
            -webkit-animation-duration: .3s;
                    animation-duration: .3s; }

        .card {
        margin-top: 50px;
        background: #fff;
        padding: 3em;
        line-height: 1.5em; }

        @media screen and (min-width: 997px) {
        .wrapper {
            display: -webkit-box;
            display: -webkit-flex;
            display: -ms-flexbox;
            display: flex; } }

        .details {
        display: -webkit-box;
        display: -webkit-flex;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-orient: vertical;
        -webkit-box-direction: normal;
        -webkit-flex-direction: column;
            -ms-flex-direction: column;
                flex-direction: column; }

        .colors {
        -webkit-box-flex: 1;
        -webkit-flex-grow: 1;
            -ms-flex-positive: 1;
                flex-grow: 1; }

        .product-title, .price, .sizes, .colors {
        text-transform: UPPERCASE;
        font-weight: bold; }

        .checked, .price span {
        color: #ff9f1a; }

        .product-title, .rating, .product-description, .price, .vote, .sizes {
        margin-bottom: 15px; }

        .product-title {
        margin-top: 0; }

        .size {
        margin-right: 10px; }
        .size:first-of-type {
            margin-left: 40px; }

        .color {
        display: inline-block;
        vertical-align: middle;
        margin-right: 10px;
        height: 2em;
        width: 2em;
        border-radius: 2px; }
        .color:first-of-type {
            margin-left: 20px; }

        .add-to-cart, .like {
        background: #ff9f1a;
        padding: 1.2em 1.5em;
        border: none;
        text-transform: UPPERCASE;
        font-weight: bold;
        color: #fff;
        -webkit-transition: background .3s ease;
                transition: background .3s ease; }
        .add-to-cart:hover, .like:hover {
            background: #b36800;
            color: #fff; }

        .not-available {
        text-align: center;
        line-height: 2em; }
        .not-available:before {
            font-family: fontawesome;
            content: "\f00d";
            color: #fff; }

        .orange {
        background: #ff9f1a; }

        .green {
        background: #85ad00; }

        .blue {
        background: #0076ad; }

        .tooltip-inner {
        padding: 1.3em; }

        @-webkit-keyframes opacity {
        0% {
            opacity: 0;
            -webkit-transform: scale(3);
                    transform: scale(3); }
        100% {
            opacity: 1;
            -webkit-transform: scale(1);
                    transform: scale(1); } }

        @keyframes opacity {
        0% {
            opacity: 0;
            -webkit-transform: scale(3);
                    transform: scale(3); }
        100% {
            opacity: 1;
            -webkit-transform: scale(1);
                    transform: scale(1); } }
    </style>
  </head>

  <body style="background-color:powderblue;">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MJPMJZP" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <h1>Test Website Product Detail</h1>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <!-- <a class="navbar-brand" href="#" data-ol-has-click-handler="">Navbar</a> -->
        <div class="row justify-content-start">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="index.html" data-ol-has-click-handler="">Home</a>
            </li>
            <li class="nav-item active">
              <a class="nav-link" href="products.html" data-ol-has-click-handler="">Products</a>
            </li>
          </ul>
        </div>
    </nav>
	<div class="container">
		<div class="card">
			<div class="container-fliud">
				<div class="wrapper row">
					<div class="preview col-md-6">
						
						<div class="preview-pic tab-content">
						  <div class="tab-pane active" id="pic-1"><img id="big-image" /></div>
						  <!-- <div class="tab-pane" id="pic-2"><img src="http://placekitten.com/400/252" /></div> -->
						  <!-- <div class="tab-pane" id="pic-3"><img src="http://placekitten.com/400/252" /></div>
						  <div class="tab-pane" id="pic-4"><img src="http://placekitten.com/400/252" /></div>
						  <div class="tab-pane" id="pic-5"><img src="http://placekitten.com/400/252" /></div> -->
						</div>
						<ul class="preview-thumbnail nav nav-tabs">
						  <li class="active"><a data-target="#pic-1" data-toggle="tab"><img id="thumb-image"/></a></li>
						  <!-- <li><a data-target="#pic-2" data-toggle="tab"><img src="http://placekitten.com/200/126" /></a></li> -->
						  <!-- <li><a data-target="#pic-3" data-toggle="tab"><img src="http://placekitten.com/200/126" /></a></li>
						  <li><a data-target="#pic-4" data-toggle="tab"><img src="http://placekitten.com/200/126" /></a></li>
						  <li><a data-target="#pic-5" data-toggle="tab"><img src="http://placekitten.com/200/126" /></a></li> -->
						</ul>
						
					</div>
					<div class="details col-md-6">
						<h3 class="product-title" id="product-name"></h3>
						<div class="rating">
							<div class="stars">
								<span class="fa fa-star checked"></span>
								<span class="fa fa-star checked"></span>
								<span class="fa fa-star checked"></span>
								<span class="fa fa-star checked"></span>
								<span class="fa fa-star checked"></span>
							</div>
							<span class="review-no">41 reviews</span>
						</div>
						<p class="product-description">Suspendisse quos? Tempus cras iure temporibus? Eu laudantium cubilia sem sem! Repudiandae et! Massa senectus enim minim sociosqu delectus posuere.</p>
						<h4 class="price">current price: <span id="price-value"></span></h4>
						<p class="vote"><strong>91%</strong> of buyers enjoyed this product! <strong>(87 votes)</strong></p>
						<h5 class="sizes">sizes:
							<span class="size" data-toggle="tooltip" title="medium">m</span>
						</h5>
						<div class="action">
                            <button class="btn btn-primary" type="button" onclick="addToCart()">add to cart</button>
                            <button class="btn btn-primary" type="button" id="product-detail-buy-now" onclick="buyNow()">buy now</button>
							<!-- <button class="btn btn-primary" type="button"><span class="fa fa-heart"></span></button> -->
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
  </body>
</html>